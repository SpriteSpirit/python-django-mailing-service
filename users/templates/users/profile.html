{% extends 'main/base.html' %}
{% load static %}

{% block content %}

<div class="container">
    <div class="main-body">
        <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="/media/{{ user.avatar }}" alt="Admin"
                                 class="rounded-circle" width="150" height="150">
                            <div class="mt-0">
                                <h4>{{ user.first_name }}</h4>
                                <p class="mb-3">{{ user.phone_number }}</p>
                                <a href="{% url 'users:update' user.pk %}"
                                   class="btn btn-outline-success">Редактировать</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mt-2">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                            <h6 class="mb-0" style="color: #4682B4;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                     stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="2" y1="12" x2="22" y2="12"></line>
                                    <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                                </svg>
                                Website
                            </h6>
                            {% if user.website %}
                            <span>{{ user.website }}</span>
                            {% else %}
                            <span>---</span>
                            {% endif %}
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                            <h6 class="mb-0" style="color: #4682B4;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                     stroke-linejoin="round" class="feather feather-github mr-2 icon-inline">
                                    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                                </svg>
                                Github
                            </h6>
                            {% if user.github %}
                            <span>{{ user.github }}</span>
                            {% else %}
                            <span>---</span>
                            {% endif %}
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                            <h6 class="mb-1" style="color: #4682B4;">
                                <svg width="24px" height="24px" viewBox="0 0 15 15" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M14.9932 1.58221C15.0223 1.40736 14.9567 1.23016 14.8208 1.11645C14.6848 1.00274 14.4988 0.969519 14.3318 1.02914L0.331836 6.02914C0.143209 6.0965 0.0129867 6.26994 0.000913704 6.46987C-0.0111592 6.6698 0.0972469 6.85765 0.276398 6.94722L4.2764 8.94722C4.43688 9.02746 4.62806 9.01556 4.77735 8.91603L8.09775 6.70244L6.10957 9.18766C6.02203 9.29709 5.98442 9.43824 6.00592 9.57672C6.02742 9.7152 6.10605 9.8383 6.22265 9.91603L12.2227 13.916C12.3638 14.0101 12.5431 14.0262 12.6988 13.9588C12.8545 13.8914 12.9653 13.7496 12.9932 13.5822L14.9932 1.58221Z"
                                          fill="#4682B4"/>
                                </svg>
                                Telegram
                            </h6>
                            {% if user.telegram %}
                            <span>{{ user.telegram }}</span>
                            {% else %}
                            <span>---</span>
                            {% endif %}
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-md-8">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0" style="color: #4682B4;">Ф. И. О.</h6>
                            </div>
                            <div class="col-sm-9">
                                {{ user.last_name }} {{ user.first_name }} {{ user.middle_name }}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0" style="color: #4682B4;">Email</h6>
                            </div>
                            <div class="col-sm-9">
                                {{ user.email }}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0" style="color: #4682B4;">Телефон</h6>
                            </div>
                            <div class="col-sm-9">
                                {{ user.phone_number }}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6 class="mb-0" style="color: #4682B4;">Страна</h6>
                            </div>
                            <div class="col-sm-9">
                                {{ user.country.name }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row gutters-sm">
                    <div class="col-sm-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="d-flex align-items-center mb-3" style="color: #c08081;">
                                    О себе
                                </h6>
                                <span class="card w-100 border-0">
                                    {% if not user.about_message %}
                                        Нет описания.
                                    {% else %}
                                        {{ user.about_message }}
                                    {% endif %}
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h6 class="d-flex align-items-center mb-3" style="color: #c08081;">Новые клиенты</h6>
                                {% for client in clients|slice:"-3:" %}
                                <small>{{ client.name }} <span style="color: #4682B4;">[{{ client.email }}]</span></small>
                                <div class="progress mb-3" style="height: 5px">
                                    <div class="bg-secondary" style="width: 100%; height: 3px;"></div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
