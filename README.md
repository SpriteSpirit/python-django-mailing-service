# Сервис управления рассылками

## Описание проекта

Этот проект представляет собой сервис для управления рассылками, администрирования и получения статистики. Основные возможности включают создание, редактирование, удаление и просмотр рассылок, управление пользователями, а также сбор и анализ статистики по проведённым рассылкам.

## Функциональные возможности

### Интерфейс системы

- **Список рассылок** — просмотр всех созданных рассылок.
- **Отчёт проведённых рассылок** — просмотр детализированных отчётов по каждой рассылке.
- **Создание рассылки** — интерфейс для создания новой рассылки.
- **Удаление рассылки** — возможность удаления существующих рассылок.
- **Создание пользователя** — интерфейс для регистрации нового пользователя.
- **Удаление пользователя** — возможность удаления существующих пользователей.
- **Редактирование пользователя** — интерфейс для изменения данных пользователя.

### Основные задачи

1. **CRUD-механизм для управления рассылками**:
   - Создание, просмотр, редактирование и удаление рассылок.
2. **Скрипт рассылки**:
   - Возможность запуска рассылки как из командной строки, так и по расписанию.
3. **Управление клиентами**:
   - Контактный email, ФИО, комментарий.
   - CRUD-механизм для управления клиентами.
4. **Настройки рассылки**:
   - Дата и время первой отправки.
   - Периодичность: раз в день, раз в неделю, раз в месяц.
   - Статус рассылки: завершена, создана, запущена.
5. **Сообщение для рассылки**:
   - Тема письма.
   - Тело письма.
6. **Попытка рассылки**:
   - Дата и время последней попытки.
   - Статус попытки: успешно / не успешно.
   - Ответ почтового сервера.

### Права доступа

- **Менеджер**:
  - Может просматривать любые рассылки.
  - Может просматривать список пользователей сервиса.
  - Может блокировать пользователей сервиса.
  - Может отключать рассылки.
  - Не может редактировать рассылки и управлять списком рассылок.
- **Пользователь**:
  - Может работать только со своим списком клиентов и рассылок.

### Блог

- **Сущность блога**:
  - Заголовок.
  - Содержимое статьи.
  - Изображение.
  - Количество просмотров.
  - Дата публикации.
- **Главная страница**:
  - Количество рассылок всего.
  - Количество активных рассылок.
  - Количество уникальных клиентов для рассылок.
  - Три случайные статьи из блога.

### Кеширование

- Кеширование данных блога и главной страницы для оптимизации производительности.

## Установка и настройка

### Требования

- Python 3.8+
- Django 3.2+
- PostgreSQL

### Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/yourusername/newsletter-service.git
   cd newsletter-service
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

3. Создайте файл `.env` и добавьте необходимые переменные окружения:
   ```env
   DEBUG=True
   SECRET_KEY=your_secret_key
   DATABASE_URL=postgres://user:password@localhost:5432/newsletter_db
   ```

4. Примените миграции:
   ```bash
   python manage.py migrate
   ```

5. Создайте суперпользователя:
   ```bash
   python manage.py createsuperuser
   ```

6. Запустите сервер разработки:
   ```bash
   python manage.py runserver
   ```

### Запуск периодических задач

Для запуска периодических задач используйте библиотеку `django-apscheduler` или `django-crontab`. Настройте необходимые задачи в соответствии с документацией выбранной библиотеки.

### Заполнение базы данных

Используйте фикстуры или команды для заполнения базы данных тестовыми данными:
```bash
python manage.py loaddata data_base.json
```

## Авторы

- Халуева Ангелина — [SpriteSpirit: GitHub](https://github.com/SpriteSpirit)

## Благодарности

- Благодарность команде Skypro за грамотно составленное ТЗ и возможность разработки этого проекта.